(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,n){e.exports={item:"ImageGalleryItem_item__YPAN0",image:"ImageGalleryItem_image__2pFWL"}},12:function(e,t,n){e.exports={overlay:"Modal_overlay__1LaoC",modal:"Modal_modal__2JflV"}},17:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__3ih1R"}},18:function(e,t,n){e.exports={button:"Button_button__1GSI5"}},24:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),s=(n(24),n(13)),i=n(3),u=n(4),l=(n(14),n(15)),b=n.n(l),j=(n(45),n(19)),m=n(6),h=n.n(m),d=n(1);function f(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(i.a)(n,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:h.a.searchbar,children:Object(d.jsxs)("form",{className:h.a.form,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return u.b.error("Please enter a correct name!");t(c),o("")},children:[Object(d.jsx)("button",{type:"submit",className:h.a.button,children:Object(d.jsxs)("span",{className:h.a.label,children:[Object(d.jsx)(j.a,{style:{marginRight:8}}),"Search"]})}),Object(d.jsx)("input",{className:h.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var g=n(16),O=n.n(g),p=n(11),_=n.n(p),x=n(12),v=n.n(x),y=document.getElementById("modal-root");function S(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(d.jsx)("div",{className:v.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:v.a.modal,children:n})}),y)}function w(e){var t=e.images,n=Object(a.useState)(null),r=Object(i.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(!1),u=Object(i.a)(s,2),l=u[0],b=u[1];return Object(d.jsxs)(d.Fragment,{children:[t.map((function(e,t){var n=e.webformatURL,a=e.tags;return Object(d.jsx)("li",{className:_.a.item,onClick:function(){return function(e){o(e),b(!0)}(t)},children:Object(d.jsx)("img",{src:n,alt:a,className:_.a.image})},O.a.generate())})),l&&Object(d.jsx)(S,{onClose:function(){b((function(){return!l}))},children:Object(d.jsx)("img",{src:t[c].largeImageURL,alt:t[c].tags})})]})}var N=n(17),C=n.n(N);function k(e){var t=e.images;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("ul",{className:C.a.gallery,children:t&&Object(d.jsx)(w,{images:t})})})}var E="https://pixabay.com/api/",F="22328016-b5b8589f64a6d5a0340d8aa33";var I=n(18),L=n.n(I);function q(e){return Object(d.jsx)("button",{type:"button",onClick:e.onClick,className:L.a.button,children:e.children})}var G="idle",B="pending",R="resolved",M="rejected";function P(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(i.a)(c,2),l=o[0],j=o[1],m=Object(a.useState)(1),h=Object(i.a)(m,2),g=h[0],O=h[1],p=Object(a.useState)(null),_=Object(i.a)(p,2),x=(_[0],_[1]),v=Object(a.useState)(G),y=Object(i.a)(v,2),S=y[0],w=y[1];Object(a.useEffect)((function(){n&&(w(B),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(E,"?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&per_page=").concat(12,"&key=").concat(F)).then((function(t){return t.ok?t.json():Promise.reject(new Error("No images are available on request: ".concat(e)))}))}(n,g).then((function(e){if(0===e.hits.length)return x(!0),w(M),void u.b.error("Something went wrong! Please enter a correct request.");j((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),w(R),e.hits.length<12&&(w(G),u.b.info("No more photos for your request")),1!==g&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),u.b.success("Congratulations! You found your photo.",{icon:"\ud83d\ude80"})})).catch((function(e){return x(e)}),w(M)),w(G))}),[g,n]);return Object(d.jsxs)("div",{className:"Container",children:[Object(d.jsx)(f,{onSubmit:function(e){r(e),j([]),O(1),w(B)}}),Object(d.jsx)(k,{images:l}),!n&&Object(d.jsx)("h2",{className:"EnterYourRequest",children:"Enter your request"}),S===B&&Object(d.jsx)("div",{className:"Loader",children:Object(d.jsx)(b.a,{type:"Grid",color:"#00BFFF",height:100,width:100})}),S!==B&&S!==G&&S!==M&&Object(d.jsx)(q,{onClick:function(){O((function(e){return e+1})),w(B)},children:"Load more"}),Object(d.jsx)(u.a,{autoClose:3500})]})}o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(P,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__2w1j7",form:"Searchbar_form__3GfGR",button:"Searchbar_button__3b7fB",label:"Searchbar_label__bqMaM",input:"Searchbar_input__1FbbI","SearchForm-input":"Searchbar_SearchForm-input__1B3b_"}}},[[55,1,2]]]);
//# sourceMappingURL=main.c7544bf0.chunk.js.map