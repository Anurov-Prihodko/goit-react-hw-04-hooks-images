{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/api.js","components/Button/Button.js","App.js","index.js"],"names":["module","exports","Searchbar","state","requestName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","searchbar","form","this","type","button","label","style","marginRight","input","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","getElementById","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","overlay","onClick","target","modal","ImageGalleryItem","images","useState","imgIdx","setImgIdx","showModal","setShowModal","map","index","webformatURL","tags","item","handleClick","src","alt","image","shortid","generate","largeImageURL","ImageGallery","gallery","BASE_URL","API_KEY","fetchImages","numPage","fetch","then","response","ok","json","Promise","reject","Error","Button","Status","App","imgArray","loading","status","imageApiService","hits","length","info","scrollTo","top","documentElement","scrollHeight","behavior","success","icon","catch","handleFormSubmit","handleLoadMore","prevProps","prevState","color","height","width","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9fb72110.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__YPAN0\",\"image\":\"ImageGalleryItem_image__2pFWL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1LaoC\",\"modal\":\"Modal_modal__2JflV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3ih1R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1GSI5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2w1j7\",\"form\":\"Searchbar_form__3GfGR\",\"button\":\"Searchbar_button__3b7fB\",\"label\":\"Searchbar_label__bqMaM\",\"input\":\"Searchbar_input__1FbbI\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1B3b_\"};","import { Component } from 'react';\nimport { ImSearch } from 'react-icons/im';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    requestName: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({\n      requestName: event.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.requestName.trim() === '') {\n      return toast.error('Please enter a correct name!');\n    }\n\n    this.props.onSubmit(this.state.requestName);\n    this.setState({ requestName: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>\n              <ImSearch style={{ marginRight: 8 }} />\n              Search\n            </span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.requestName}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleBackdropClick}>\n      <div className={s.modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport s from './ImageGalleryItem.module.css';\nimport Modal from '../Modal';\n\nexport default function ImageGalleryItem({ images }) {\n  const [imgIdx, setImgIdx] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n\n  const handleClick = index => {\n    setImgIdx(index);\n    setShowModal(true);\n  };\n\n  const toggleModal = () => {\n    setShowModal(() => !showModal);\n  };\n\n  return (\n    <>\n      {images.map(({ webformatURL, tags }, index) => (\n        <li\n          key={shortid.generate()}\n          className={s.item}\n          onClick={() => handleClick(index)}\n        >\n          <img src={webformatURL} alt={tags} className={s.image} />\n        </li>\n      ))}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={images[imgIdx].largeImageURL} alt={images[imgIdx].tags} />\n        </Modal>\n      )}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.array.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images }) {\n  return (\n    <>\n      <ul className={s.gallery}>\n        {images && <ImageGalleryItem images={images} />}\n      </ul>\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object),\n};\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22328016-b5b8589f64a6d5a0340d8aa33';\nconst NUMBER_OF_PHOTOS = 12;\n\nfunction fetchImages(requestName, numPage = 1) {\n  return fetch(\n    `${BASE_URL}?image_type=photo&orientation=horizontal&q=${requestName}&page=${numPage}&per_page=${NUMBER_OF_PHOTOS}&key=${API_KEY}`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`No images are available on request: ${requestName}`),\n    );\n  });\n}\n\nexport { fetchImages, NUMBER_OF_PHOTOS };\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button(props) {\n  return (\n    <button type=\"button\" onClick={props.onClick} className={s.button}>\n      {props.children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport { fetchImages, NUMBER_OF_PHOTOS } from './services/api';\nimport Button from './components/Button';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    requestName: '',\n    imgArray: [],\n    numPage: 1,\n    loading: false,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { requestName, numPage } = this.state;\n\n    if (prevState.requestName !== requestName) {\n      this.imageApiService(requestName, numPage);\n    }\n  }\n\n  imageApiService = () => {\n    const { requestName, numPage, loading } = this.state;\n    this.setState({ loading: true });\n\n    if (loading) {\n      this.setState({ status: Status.PENDING });\n    }\n\n    fetchImages(requestName, numPage)\n      .then(response => {\n        if (response.hits.length === 0) {\n          this.setState({ error: true, status: Status.REJECTED });\n          toast.error('Something went wrong! Please enter a correct request.');\n          return;\n        }\n\n        this.setState({\n          imgArray: [...this.state.imgArray, ...response.hits],\n          status: Status.RESOLVED,\n          numPage: this.state.numPage + 1,\n        });\n\n        if (response.hits.length < NUMBER_OF_PHOTOS) {\n          this.setState({ status: Status.IDLE });\n          toast.info('No more photos for your request');\n        }\n\n        if (numPage !== 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n\n        toast.success('Congratulations! You found your photo.', {\n          icon: 'ðŸš€',\n        });\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }));\n  };\n\n  handleFormSubmit = requestName => {\n    this.setState({\n      requestName,\n      imgArray: [],\n      numPage: 1,\n      loading: true,\n    });\n  };\n\n  handleLoadMore = () => {\n    const { requestName, numPage } = this.state;\n\n    this.setState(() => ({\n      numPage: this.state.numPage + 1,\n      loading: true,\n    }));\n    this.imageApiService(requestName, numPage);\n  };\n\n  render() {\n    const { imgArray, requestName, status } = this.state;\n\n    return (\n      <div className=\"Container\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        <ImageGallery images={imgArray} />\n        {!requestName && (\n          <h2 className=\"EnterYourRequest\">Enter your request</h2>\n        )}\n\n        {status === Status.PENDING && (\n          <div className=\"Loader\">\n            <Loader type=\"Grid\" color=\"#00BFFF\" height={100} width={100} />\n          </div>\n        )}\n\n        {status === Status.RESOLVED && status !== Status.PENDING && (\n          <Button onClick={this.handleLoadMore}>Load more</Button>\n        )}\n        <ToastContainer autoClose={3500} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// ========================================\n// // import { string } from 'prop-types';\n"],"sourceRoot":""}